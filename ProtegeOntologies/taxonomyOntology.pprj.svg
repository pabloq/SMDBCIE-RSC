<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg height="532.0150" name="snapshot" onload="LoadHandler(evt)" onzoom="zoomHandler(evt)" width="651.0" xmlns="http://www.w3.org/2000/svg"><AttributeMap name="Node Type" value="node color"/><defs><marker id="arrowHead-13447886" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="10" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" fill="rgb(50,205,50)"/></marker><marker id="arrowHead-3308225" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="10" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" fill="rgb(205,133,63)"/></marker><marker id="arrowHead-4565549" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="10" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" fill="rgb(186,85,211)"/></marker><marker id="arrowHead-12156236" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="10" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" fill="rgb(70,130,180)"/></marker><marker id="arrowHead-8355712" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="10" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" fill="rgb(128,128,128)"/></marker><marker id="arrowHead-10496" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="10" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" fill="rgb(255,215,0)"/></marker><marker id="arrowHead-3318692" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="10" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" fill="rgb(205,92,92)"/></marker><marker id="arrowHead-2987746" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="10" refY="5" viewBox="0 0 10 10"><path d="M 0 0 L 10 5 L 0 10 z" fill="rgb(210,105,30)"/></marker></defs><g id="displayBean" transform="matrix(3.047129250673873,0.0,0.0,3.047129250673873,-270.30722110468264,-213.9449883465441)"><image visibility="hidden"><![CDATA[ffd8ffe000104a46494600010200000100010000ffdb004300080606070605080707070909080a0c140d0c0b0b0c1912130f141d1a1f1e1d1a1c1c20242e2720222c231c1c2837292c30313434341f27393d38323c2e333432ffdb0043010909090c0b0c180d0d1832211c213232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232ffc00011080051006403012200021101031101ffc4001f0000010501010101010100000000000000000102030405060708090a0bffc400b5100002010303020403050504040000017d01020300041105122131410613516107227114328191a1082342b1c11552d1f02433627282090a161718191a25262728292a3435363738393a434445464748494a535455565758595a636465666768696a737475767778797a838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae1e2e3e4e5e6e7e8e9eaf1f2f3f4f5f6f7f8f9faffc4001f0100030101010101010101010000000000000102030405060708090a0bffc400b51100020102040403040705040400010277000102031104052131061241510761711322328108144291a1b1c109233352f0156272d10a162434e125f11718191a262728292a35363738393a434445464748494a535455565758595a636465666768696a737475767778797a82838485868788898a92939495969798999aa2a3a4a5a6a7a8a9aab2b3b4b5b6b7b8b9bac2c3c4c5c6c7c8c9cad2d3d4d5d6d7d8d9dae2e3e4e5e6e7e8e9eaf2f3f4f5f6f7f8f9faffda000c03010002110311003f00f77bdb836b68d2aa8660554027032481fd6b3ffb42f7fe9dff00ef83fe356759ff009063ff00bf1ffe86b567ec76dff3ef0ffdf02a66a765c8edf22a2e3d519bfda17bff004eff00f7c1ff001a3fb42f7fe9dffef83fe35a5f63b6ff009f787fef8147d8edbfe7de1ffbe05676adfccbee455e1d8cdfed0bdffa77ff00be0ff8d235fdeb29198064750a7fc6b4fec76dff003ef0ff00df02a19ed82edf22cad9f39cefc2e3f434355bf9bf0417876321defd8922f1972738156ffb42f7fe9dff00ef83fe351cb73e4cac926996aa57d093fc92ae470bb48a24d32d510fde21c1c7e1b79a4bdabda4bee4178f62bff685effd3bff00df07fc68fed0bdff00a77ffbe0ff008d697d8edbfe7de1ff00be051f63b6ff009f787fef814ed5bf997dc82f0ec66ff685effd3bff00df07fc6992eab790c2f2b2c0ca8a58a8041207be6b57ec76dff3ef0ffdf02a8eb16d6e9a3ddb2c112b088e084008aa8aab75792fb90af0ec6a514515a1050d67fe418ffefc7ffa1ad5faa1acff00c831ff00df8fff00435abf4fa005145148028a2a39658e25cc8ea8b9032c7039ed437602b4fa7a5c4ace649143f042e3d3e95732475e47ad557bfb2207fa6c03073c4abfe7d69ff6fb3e3fd2e0e7fe9a0a95149bb0eeec58a29841601a36001e7d4114e07b1e0d5085aa1ad7fc816f3feb91abf5435aff00902de7fd7234d6e05fa28a29014359ff009063ff00bf1ffe86b57ea86b3ff20c7ff7e3ff00d0d6afd3e80145145201aedb149c13ec28281861806e73c8a51c9cf61d2968032b51b0124b149140490a55b671e98cfeb566d2d6316c9e6c09bc673b9413edfa62ae535c3705319cf39ee2a796d2e61df4b0ec606050467ad42d776eae51a7895c75567008a7ac892286475653d0839069dc450d504a9e53c73ca996d9856c0e84e7dfa555995ffe11abc779a590b46e3f78d9c6091c56cbc4922e2445700e70c3354b57554d0aed5142a889b000c0a514f9ef7d0abab1a14514551250d67fe418ff00efc7ff00a1ad5d79113efbaafd4e2a96b3ff0020c7ff007e3ffd0d69baa44f2f960233a10c182827d3ae3f1a53972c6e34afa174cf0840e6540a7bee18a41710bb88d6642c7b0619acf6b57fec911fd9d31c7cbb7e6fbc3b7d29da6db08d9dcdbe08c6d665c30fcf9a9e6d52b05b434e8a4dea0649c7d78a5072323a558828a89ae6046dad3c6ade85c034b1cf14d9f2a547c75dac0e28033752b69e5b8668a29194c63055b1f364fbfd2b4a20ab0aae0000608f4a92931ce78a851e56df71b7756123ddb7e6c672718f4ed54759cff635efa7947f9568735435aff9025e7fd72356b5680bf4514502286b3ff20c7ff7e3ff00d0d6afd55d42ddeeac9e18ca872548dc7038607fa556c6b3ff004edff7f7ff00b0a1eda0cd3a2b331acffd3b7fdfdffec28c6b3ff4edff007f7ffb0a5af6fcbfcc2de66991918349b4018031f4e2b371acff00d3b7fdfdff00ec28c6b3ff004edff7f7ff00b0a35edf97f985bcc4d4ad4c93c6c222c003ca8e739f6ab96502c36b10f2d51f6287c000e71deaa6359ffa76ff00bfbffd8518d67fe9dbfefeff00f6152a2d36ff00c86f6b1a745666359ffa76ff00bfbffd8518d67fe9dbfefeff00f6155af6fcbfcc56f334ea86b5ff00205bcffae46a3c6b3ff4edff007f7ffb0a86eadb57bbb596ddcdb85914a93e61e3ff001ca69bbedf97f9858d9a28a281051451400514514005145140051451400514514005145140051451401fffd9]]></image><g id="nodes_and_labels"><rect fill="rgb(249,238,211)" height="500.0" id=":THING" onmousemove="mousemoveHandler(evt)" panelMode="Children" rx="40.0" ry="40.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.914,0.0,0.0,0.914,57.5,20.349999999999994)" visibility="visible" width="602.0"><transform height="0.914" scaleX="57.5" scaleY="20.349999999999994" width="0.0" x="0.914" y="0.0"/><focus>false</focus><title>:THING (System Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.914,0.0,0.0,0.914,57.5,20.349999999999994)" x="28.0" y="28.064453125">:THING<title>:THING (System Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Predicate" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="40.0" ry="40.0" stroke="blue" stroke-width="8" transform="matrix(0.316244,0.0,0.0,0.316244,372.49500000000006,78.11808351143543)" visibility="visible" width="604.0"><transform height="0.34600000000000003" scaleX="344.63347921225386" scaleY="63.20359246327729" width="0.0" x="0.34600000000000003" y="0.0"/><parentId>967</parentId><focus>false</focus><title>Predicate (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.316244,0.0,0.0,0.316244,372.49500000000006,78.11808351143543)" x="34.0" y="28.064453125">Predicate<title>Predicate (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Concept" onmousemove="mousemoveHandler(evt)" panelMode="Children" rx="40.0" ry="40.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.316244,0.0,0.0,0.316244,102.479,78.11808351143543)" visibility="visible" width="604.0"><transform height="0.34600000000000003" scaleX="49.211159737417944" scaleY="63.20359246327729" width="0.0" x="0.34600000000000003" y="0.0"/><parentId>967</parentId><focus>true</focus><title>Concept (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.316244,0.0,0.0,0.316244,102.479,78.11808351143543)" x="31.0" y="28.064453125">Concept<title>Concept (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="WeightedDescriptor" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="40.0" ry="40.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,197.0809383159911,100.5609883917011)" visibility="visible" width="500.0"><transform height="0.066" scaleX="299.14223927091444" scaleY="70.96705354177683" width="0.0" x="0.066" y="0.0"/><parentId>968</parentId><parentId>967</parentId><focus>false</focus><title>WeightedDescriptor (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,197.0809383159911,100.5609883917011)" x="62.5" y="28.064453125">WeightedDescriptor<title>WeightedDescriptor (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="WeightedDescription" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="40.0" ry="40.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,200.7776602778199,141.94654656436614)" visibility="visible" width="500.0"><transform height="0.066" scaleX="310.83170045224546" scaleY="201.83296142513595" width="0.0" x="0.066" y="0.0"/><parentId>968</parentId><parentId>967</parentId><focus>false</focus><title>WeightedDescription (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,200.7776602778199,141.94654656436614)" x="65.5" y="28.064453125">WeightedDescription<title>WeightedDescription (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Value" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="40.0" ry="40.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,115.21491454278184,194.36825358307505)" visibility="visible" width="500.0"><transform height="0.066" scaleX="40.272430600365055" scaleY="367.5964447440572" width="0.0" x="0.066" y="0.0"/><parentId>968</parentId><parentId>967</parentId><focus>false</focus><title>Value (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,115.21491454278184,194.36825358307505)" x="23.5" y="28.064453125">Value<title>Value (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Taxon" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="40.0" ry="40.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,232.23912278137317,176.39091960160005)" visibility="visible" width="500.0"><transform height="0.066" scaleX="410.316473297116" scaleY="310.75004139261017" width="0.0" x="0.066" y="0.0"/><parentId>968</parentId><parentId>967</parentId><focus>false</focus><title>Taxon (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,232.23912278137317,176.39091960160005)" x="24.5" y="28.064453125">Taxon<title>Taxon (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Modifier" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="40.0" ry="40.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,270.33303345721816,147.11140738187646)" visibility="visible" width="500.0"><transform height="0.066" scaleX="530.7738121742015" scaleY="218.16484698663388" width="0.0" x="0.066" y="0.0"/><parentId>968</parentId><parentId>967</parentId><focus>false</focus><title>Modifier (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,270.33303345721816,147.11140738187646)" x="29.5" y="28.064453125">Modifier<title>Modifier (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Descriptor" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="40.0" ry="40.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,136.36614740684928,194.36825358307507)" visibility="visible" width="500.0"><transform height="0.066" scaleX="107.15506826010704" scaleY="367.59644474405724" width="0.0" x="0.066" y="0.0"/><parentId>968</parentId><parentId>967</parentId><focus>false</focus><title>Descriptor (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,136.36614740684928,194.36825358307507)" x="36.5" y="28.064453125">Descriptor<title>Descriptor (Class)</title></text><rect fill="rgb(245,224,171)" height="500.0" id="Description" onmousemove="mousemoveHandler(evt)" panelMode="Closed" rx="40.0" ry="40.0" stroke="rgb(64,64,64)" stroke-width="2" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,199.7131237960537,211.16180033890691)" visibility="visible" width="500.0"><transform height="0.066" scaleX="307.46551332532385" scaleY="420.69957636341394" width="0.0" x="0.066" y="0.0"/><parentId>968</parentId><parentId>967</parentId><focus>false</focus><title>Description (Class)</title></rect><text fill="black" font-family="Dialog" font-size="12" onmousemove="mousemoveHandler(evt)" text-anchor="middle" transform="matrix(0.020872104000000002,0.0,0.0,0.020872104000000002,199.7131237960537,211.16180033890691)" x="39.5" y="28.064453125">Description<title>Description (Class)</title></text></g><g id="arcs"><line marker-end="url(#arrowHead-3318692)" onmousemove="mousemoveHandler(evt)" stroke="rgb(205,92,92)" stroke-width="1" visibility="visible" x1="199.7131237960537" x2="146.8021994068493" y1="214.99650595648248" y2="200.9695999654995"><title>descriptors (Connects Classes): "Description"  to  "Descriptor"</title></line><line marker-end="url(#arrowHead-12156236)" onmousemove="mousemoveHandler(evt)" stroke="rgb(70,130,180)" stroke-width="1" visibility="visible" x1="136.36614740684928" x2="125.65096654278184" y1="199.58627958307505" y2="199.58627958307505"><title>score (Connects Classes): "Descriptor"  to  "Value"</title></line><line marker-end="url(#arrowHead-4565549)" onmousemove="mousemoveHandler(evt)" stroke="rgb(186,85,211)" stroke-width="1" visibility="visible" x1="242.6751747813732" x2="242.6751747813732" y1="181.60894560160006" y2="181.60894560160006"><title>successors (Connects Classes): "Taxon"  to  "Taxon"</title></line><line marker-end="url(#arrowHead-2987746)" onmousemove="mousemoveHandler(evt)" stroke="rgb(210,105,30)" stroke-width="1" visibility="visible" x1="233.1606295063995" x2="210.2922055527936" y1="176.90506660512474" y2="151.86845156084146"><title>weightedDescription (Connects Classes): "Taxon"  to  "WeightedDescription"</title></line><line marker-end="url(#arrowHead-10496)" onmousemove="mousemoveHandler(evt)" stroke="rgb(255,215,0)" stroke-width="1" visibility="visible" x1="242.6751747813732" x2="242.6751747813732" y1="181.60894560160006" y2="181.60894560160006"><title>predecessor (Connects Classes): "Taxon"  to  "Taxon"</title></line><line marker-end="url(#arrowHead-3308225)" onmousemove="mousemoveHandler(evt)" stroke="rgb(205,133,63)" stroke-width="1" visibility="visible" x1="205.52959152971684" x2="202.76505906409417" y1="141.94654656436614" y2="110.99704039170112"><title>weightedDescriptors (Connects Classes): "WeightedDescription"  to  "WeightedDescriptor"</title></line><line marker-end="url(#arrowHead-8355712)" onmousemove="mousemoveHandler(evt)" stroke="rgb(128,128,128)" stroke-width="1" visibility="visible" x1="207.46934542905973" x2="270.38067834414954" y1="109.06470071491421" y2="149.04374705866337"><title>modifier (Connects Classes): "WeightedDescriptor"  to  "Modifier"</title></line><line marker-end="url(#arrowHead-13447886)" onmousemove="mousemoveHandler(evt)" stroke="rgb(50,205,50)" stroke-width="1" visibility="visible" x1="198.95992301844007" x2="144.92321470440032" y1="110.9379934113778" y2="194.42730056339838"><title>descriptor (Connects Classes): "WeightedDescriptor"  to  "Descriptor"</title></line></g></g><g name="non_display" visibility="hidden" xmlns=""><g name="info" visibility="hidden"><text name="userName">Armando</text><text name="prjName">taxonomyOntology</text><text name="timeStamp">jue, 15 oct 2009 10:27:17 -0600</text><text name="userComment">[no comment entered]</text><text id="currentScale">3.0471292506738905</text></g><text name="cprels">has subclass|has instance</text><text name="focusedNodeID">75</text><text height="174.5905592558465" name="screenCoord" width="213.64371066833849" x="88.70881372849679" y="70.21198339362537"/><g id="displayFilters" name="displayFilters"><text id="filter_0" name="filter_0">nominal attribute|artifact filter|Node Type|java.lang.String</text><text id="filter_1" name="filter_1">nominal attribute|relationship filter|Arc Type|java.lang.String</text><text id="filter_2" name="filter_2">nominal attribute|artifact filter|Artifact id|java.lang.Long|993|995|991</text></g><g id="dataFilters" name="dataFilters"><text id="filter_0" name="filter_0">nominal attribute|artifact type string filter|Node Type|java.lang.String</text><text id="filter_1" name="filter_1">nominal attribute|relationship type string filter|Arc Type|java.lang.String</text></g></g><script><![CDATA[var svgSVGElement;var ZOOM_FACTOR_IN = 1.10;var ZOOM_FACTOR_OUT = 1.0/ZOOM_FACTOR_IN;var ZOOM_DIRECTION_IN = "in"var ZOOM_DIRECTION_OUT = "out"var ZOOM_KEY_IN = "Z"var ZOOM_KEY_OUT = "X"var ZOOM_TIMEOUT = 50; // millisecondsvar zoomFactor;var zoomDirection;var zooming = false;var mouseLocX = 0.0;var mouseLocY = 0.0;var ABSOLUTE_ARC_WIDTH = 2.0;var newScale = 1.0;var newTransX = 0.0;var newTransY = 0.0;function dumpProps(obj, parent) {   for (var i in obj) {      if (parent) { msg = parent + "." + i + "\n" + obj[i]; } else { var msg = i + "\n" + obj[i]; }      if (!confirm(msg)) { return; }      if (typeof obj[i] == "object") {          if (parent) { dumpProps(obj[i], parent + "." + i); } else { dumpProps(obj[i], i); }      }   }}function LoadHandler (evt) { 	if ( window.svgDocument == null ) {		svgDocument = evt.target.ownerDocument;	}	svgSVGElement = svgDocument.getDocumentElement();	new Title (svgDocument, 12); 	var currentScale = svgDocument.getElementById("currentScale");	var cscale = currentScale.getFirstChild().getNodeValue();	//alert("displaybean scale "+cscale);	var svgscale = svgSVGElement.getCurrentScale();	//alert("svg startup scale "+svgscale);	adjustArcWidths(cscale);// 	setTimeout('adjustArcWidths(cscale)', 10);	 }  function zoomHandler(evt) { 	Title_Zoom(evt);		var cscale = svgSVGElement.getCurrentScale();	//alert("zooming...true svg scale: "+ cscale);	adjustArcWidths(cscale);// 	setTimeout("adjustArcWidths(csale)", 100);	//setTimeout('adjustCommentBox()', 100); }  // update the thickness of the arcs so that they always appear the  // same thickness no matter what the current scale is  function adjustArcWidths (cs) {	//alert("pass in scale " + cs); 	// look for line elements	var lineElements = svgDocument.getElementsByTagName ("line");//	var cs = svgSVGElement.getCurrentScale();	if((cs<=1)){	   return;	}	if(cs>=2){	   cs = cs*2;		}	var newStrokeWidth = ABSOLUTE_ARC_WIDTH/cs;	for (var i = 0; i<lineElements.getLength(); i++) {		var lineElement = lineElements.item(i);		var strokeWidth = lineElement.getAttribute ("stroke-width");		// do not let stroke too thick 		if(newStrokeWidth>=0.4){		  newStrokeWidth = 0.1;		}		if(newStrokeWidth<=0.1){		  newStrokeWidth = 0.2;		}			   lineElement.setAttribute ("stroke-width", "" + newStrokeWidth);	}//   	alert("draw stroke width: " + newStrokeWidth); }   function adjustCommentBox () {	var commentTransElement = svgDocument.getElementById ("commentTranslate");	var commentScaleElement = svgDocument.getElementById ("commentScale");  	var currSVGScale = svgSVGElement.currentScale;	var newCommentScale = 1.0/currSVGScale;	var currSVGTransX = svgSVGElement.currentTranslate.x	var currSVGTransY = svgSVGElement.currentTranslate.y	var newCommentTransX =  - currSVGTransX;	var newCommentTransY =  - currSVGTransY;	commentScaleElement.setAttribute("transform", "scale(" + newCommentScale + ")");	commentTransElement.setAttribute("transform", "translate(" + newCommentTransX + "," + newCommentTransY + ")"); }  function keyupHandler (keyEvent) {	// Get the character-code of the key that was pressed.	var key = keyEvent.keyCode;	// Get string equivalent of input character-code.	var input_text = String.fromCharCode(key);	//window.status = input_text + "up";	if (zooming && zoomDirection == ZOOM_DIRECTION_IN && input_text == ZOOM_KEY_IN) {  		// zoom in  		zooming = false;	} else if (zooming && zoomDirection == ZOOM_DIRECTION_OUT && input_text == ZOOM_KEY_OUT) {		// zoom out  		zooming = false;	} else {		// do nothing	}}function keydownHandler (keyEvent) {	// Get the character-code of the key that was pressed.	var key = keyEvent.keyCode;	// Get string equivalent of input character-code.	var input_text = String.fromCharCode(key);	//window.status = input_text + "down";	if (input_text == ZOOM_KEY_IN) {  		// start zooming in  		zoomDirection = ZOOM_DIRECTION_IN;  		zoomFactor = ZOOM_FACTOR_IN;  		zooming = true;	} else if (input_text == ZOOM_KEY_OUT) {		// start zooming out		zoomDirection = ZOOM_DIRECTION_OUT  		zoomFactor = ZOOM_FACTOR_OUT;  		zooming = true;	} else {		zooming = false;	}	// keep zooming until a keyup event is thrown	//if (zooming) {		//setTimeout('zoomOneStep()', ZOOM_TIMEOUT);	//}	zoomOneStep();}function mousemoveHandler (evt) {		mouseLocX = evt.getClientX();	mouseLocY = evt.getClientY();	var currScale = svgSVGElement.currentScale;	var currTransX = svgSVGElement.currentTranslate.x;	var currTransY = svgSVGElement.currentTranslate.y;	var absoluteX = (mouseLocX - currTransX) / currScale;	var absoluteY = (mouseLocY - currTransY) / currScale;	var scaleAndTransform = "scale: " +  svgSVGElement.currentScale + "  translate: " + svgSVGElement.currentTranslate.x + "," + svgSVGElement.currentTranslate.y;	var mouseLocationTransformed = "mouseLocation (transformed): " + mouseLocX + "," + mouseLocY;	var mouseLocationAbsolute = "mouseLocation (absolute): " + absoluteX + "," + absoluteY;	//window.status = scaleAndTransform + "  -  " + mouseLocationTransformed + "  -  " + mouseLocationAbsolute;	Title.Activate(evt);}function zoomOneStep () {  	var oldScale = svgSVGElement.currentScale;  	var oldTransX = svgSVGElement.currentTranslate.x  	var oldTransY = svgSVGElement.currentTranslate.y  	newScale = oldScale; 	newTransX = oldTransX; 	newTransY = oldTransY; 	var oldAbsoluteX = (mouseLocX - oldTransX) / oldScale;	var oldAbsoluteY = (mouseLocY - oldTransY) / oldScale;  	newScale = oldScale * zoomFactor;	// we want the absolute point under the mouse to stay in the same place	//ie. the absolute position of the mouse should be the same when done	newTransX = mouseLocX - newScale * oldAbsoluteX;	newTransY = mouseLocY - newScale * oldAbsoluteY;		// set the new scale and translation  	svgSVGElement.currentScale = newScale;	svgSVGElement.currentTranslate.x = newTransX;  	svgSVGElement.currentTranslate.y = newTransY;}// == Title.js -- Copyright (C) Stefan Goessner ========================function Title(doc, sz) {   this.element = null;  // element to show title of ..   Title.size = sz;      // text size ..   Title.oldScale = document.getDocumentElement().getCurrentScale();     // scaling modified by zooming ..   this.Create(doc);   AddTitleEvents(doc.getDocumentElement());   window.svgTitle = this;}Title.prototype.Create = function(doc){   this.rec = doc.createElement("rect");   this.rec.setAttribute("y", -0.9*Title.size);   this.rec.setAttribute("x", -0.25*Title.size);   this.rec.setAttribute("width", "1");   this.rec.setAttribute("height", 1.25*Title.size);   this.rec.setAttribute("style", "stroke:black;fill:#edefc2;stroke-width:1");   this.str = doc.createTextNode("");   this.txt = doc.createElement("text")   this.txt.setAttribute("style", "font-family:Arial; font-size:" + Title.size + ";fill:black;");   this.txt.appendChild(this.str);   this.grp = doc.createElement("g"),   this.grp.setAttribute("transform", "translate(0,0)");   this.grp.setAttribute("visibility", "hidden");   this.grp.appendChild(this.rec);   this.grp.appendChild(this.txt);   doc.getDocumentElement().appendChild(this.grp);}Title.Activate = function Title_Activate(evt) {	mouseLocX = evt.getClientX();	mouseLocY = evt.getClientY();		var currScale = svgSVGElement.currentScale;	var currTransX = svgSVGElement.currentTranslate.x;	var currTransY = svgSVGElement.currentTranslate.y;	var absoluteX = (mouseLocX - currTransX) / currScale;	var absoluteY = (mouseLocY - currTransY) / currScale;		var scaleAndTransform = "scale: " +  svgSVGElement.currentScale + "  translate: " + svgSVGElement.currentTranslate.x + "," + svgSVGElement.currentTranslate.y;	var mouseLocationTransformed = "mouseLocation (transformed): " + mouseLocX + "," + mouseLocY;	var mouseLocationAbsolute = "mouseLocation (absolute): " + absoluteX + "," + absoluteY;	var x = (evt.getClientX() - document.getDocumentElement().getCurrentTranslate().getX())/document.getDocumentElement().getCurrentScale() +  0.25*Title.size;	    var y = (evt.getClientY() - document.getDocumentElement().getCurrentTranslate().getY())/document.getDocumentElement().getCurrentScale() - Title.size;	window.svgTitle.element = evt.getCurrentTarget();	window.svgTitle.str.setNodeValue(TextOf(TitleElementOf(window.svgTitle.element)));	window.svgTitle.rec.setAttribute("width", window.svgTitle.txt.getComputedTextLength() + 0.5*Title.size);	window.svgTitle.grp.setAttribute("transform", "translate(" + x + "," + y + ")");	window.svgTitle.grp.setAttribute("visibility", "visible");}Title.Zoom = function Title_Zoom(evt) {   var newscl = evt.getTarget().getOwnerDocument().getDocumentElement().getCurrentScale();   Title.size *= Title.oldScale/newscl;   //alert ("Title.size: " + Title.size);   Title.oldScale = newscl;   window.svgTitle.rec.setAttribute("y", -0.9*Title.size);   window.svgTitle.rec.setAttribute("x", -0.25*Title.size);   window.svgTitle.rec.setAttribute("height", 1.25*Title.size);   window.svgTitle.rec.setAttribute("style", "stroke:black;fill:#edefc2;stroke-width:" + 1/document.getDocumentElement().getCurrentScale());   window.svgTitle.txt.setAttribute("style", "font-family:Arial; font-size:" + Title.size + ";fill:black;");}Title.Register = function Title_Register(elem) {   if (TitleElementOf(elem) != null)      elem.addEventListener("mousemove", Title.Activate, false);}// --- local helper functions ------------------------function TitleElementOf(elem) {   var childs = elem.getChildNodes();   for (var i=0; i<childs.getLength(); i++)      if (childs.item(i).getNodeType() == 1 && childs.item(i).getNodeName() == "title") // title element ..         return childs.item(i);      return null;}function TextOf(elem) {   var childs = elem ? elem.getChildNodes() : null;   for (var i=0; childs && i<childs.getLength(); i++)      if (childs.item(i).getNodeType() == 3) // text node ..         return childs.item(i).getNodeValue();      return "";}function AddTitleEvents(elem) {   var childs = elem.getChildNodes();   for (var i=0; i<childs.getLength(); i++)      if (childs.item(i).getNodeType() == 1) // element node ..         AddTitleEvents(childs.item(i));   if (TitleElementOf(elem) != null)      elem.addEventListener("mousemove", Title.Activate, false);}// === end ======================================================]]></script></svg>